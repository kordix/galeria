<!DOCTYPE html>
<html>

<head>
  <title>Upload plik√≥w</title>
  <style>
    .file {
      width: 100px;
      height: 100px;
      padding: 10px;
      margin: 5px;
      border: 1px black solid;
    }

    .file > p {
      word-wrap:break-word
    }
  </style>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"></script>
</head>

<body>



  <div style="width:90%;margin:auto" id="app">


    <div style="display:flex">
      <div v-for="file in files">

        <div class="file">
         
          <p><a :href="'/uploads/'+file">{{prepareName(file)}}</a></p>
        
        </div>

      </div>

    </div>


    <form action="api/upload.php" method="post" enctype="multipart/form-data">
      Select image to upload:
      <input type="file" name="fileToUpload" id="fileToUpload">
      <input type="submit" value="Upload Image" name="submit">

    </form>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.js"></script>

  <script>
    let app = new Vue({
      el: '#app',
      data: {
        files: []
      },
      mounted() {
        let self = this;
        fetch('viewfiles.php').then((res) => res.json()).then((res) => { self.files = res; self.files.splice(0, 2) });
      },
      methods: {
        getFileExt() {
          return filename.split('.').pop();
        },
        prepareName(str){
          let parts = str.split('.');
          let name = parts[0]
          let ext = parts[1]
          if (parts[0].length > 10) name = name.slice(0,5);
          return   name+'.'+ext;

        }
      }
    })

  </script>

</body>

</html>